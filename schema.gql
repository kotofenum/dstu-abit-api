# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserDto {
  uid: String!
  firstName: String
  lastName: String
  patronym: String
  type: AccountType!
  birthDate: DateTime
  country: String
  locality: String
  email: String
  pwd: String
  school: String
  position: String
  child: String
  course: String
  phone: String!
  emailVerified: Boolean!
  phoneVerified: Boolean!
  picture: String
}

enum AccountType {
  enrolee
  parent
  teacher
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type WalletDto {
  uid: String!
  balance: Float!
  owner: UserDto!
  type: WalletType!
  secure: Boolean!
}

enum WalletType {
  personal
  corporate
  challenge
  heap
  system
}

type TransactionDto {
  uid: String!
  amount: Float!
  from: WalletDto
  to: WalletDto
  purpose: String!
  status: String!
  description: String
}

type CodeDto {
  uid: String!
  phone: String!
  expireAt: DateTime!
  issuer: UserDto!
}

type AccessDto {
  access_token: String
}

type ExerciseOriginDto {
  uid: String!
  name: String!
  owner: UserDto!
  key: ExerciseKey!
  videoUrl: String!
}

enum ExerciseKey {
  squats
  pushUps
  plank
  jumpingJacks
}

type ChallengeDto {
  uid: String!
  title: String!
  description: String
  owner: UserDto!
  price: Float!
  config: JSON
  startsAt: DateTime!
  endsAt: DateTime!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type ChallengeExerciseDto {
  uid: String!
  origin: ExerciseOriginDto!
  challenge: ChallengeDto!
  type: ExerciseType!
  goal: Float!
  customVideoUrl: String
}

enum ExerciseType {
  detection
  timer
}

type ChallengePassDto {
  uid: String!
  challenge: ChallengeDto!
  user: UserDto!
  cost: Float!
  obtainedAt: DateTime!
  revokedAt: DateTime
}

type ChallengeWithExercisesDto {
  uid: String!
  title: String!
  description: String
  owner: UserDto!
  price: Float!
  exercises: [ChallengeExerciseDto!]!
  config: JSON
  startsAt: DateTime!
  endsAt: DateTime!
}

type UserTrainingDto {
  uid: String!
  challenge: ChallengeDto!
  exercises: [UserExerciseDto!]!
  user: UserDto!
  startedAt: DateTime
  endedAt: DateTime
}

type UserExerciseDto {
  uid: String!
  challengeExercise: ChallengeExerciseDto!
  training: UserTrainingDto!
  score: Float!
  frames: JSON
  startedAt: DateTime
  endedAt: DateTime
}

type EventDto {
  uid: String!
  title: String!
  description: String
  type: EventType!
  module: ModuleType!
  faculty: String
  link: String
  reward: Float
  limit: Float
  placesLeft: Float
  startsAt: DateTime!
  endsAt: DateTime!
}

enum EventType {
  presentation
  discussion
  roundTable
  webinar
  workshop
  masterClass
  lecture
  quiz
  video
  tour
  olympiad
  consultation
  meeting
  presentationQuiz
  roomToor
}

enum ModuleType {
  dstuOnline
  talents
  helloFaculty
  admissionsCampaign
  preUniversity
  sportLeisureMore
}

type MajorDto {
  uid: String!
  title: String!
  code: String!
  fullTimePlaces: Float
  fullTimeMeta: PlacesMeta
  mixedPlaces: Float
  mixedMeta: PlacesMeta
  extramuralPlaces: Float
  extramuralMeta: PlacesMeta
}

enum PlacesMeta {
  unobtainable
  undeveloped
  hasDegree
  secondaryMajor
  shortTerm
  unknown
}

type SpecialtyDto {
  uid: String!
  title: String!
  code: String!
  major: MajorDto!
  fullTimePlaces: Float
  fullTimeMeta: PlacesMeta
  mixedPlaces: Float
  mixedMeta: PlacesMeta
  extramuralPlaces: Float
  extramuralMeta: PlacesMeta
}

type ProgramDto {
  uid: String!
  title: String!
  specialty: SpecialtyDto!
  fullTimePlaces: Float
  fullTimeMeta: PlacesMeta
  mixedPlaces: Float
  mixedMeta: PlacesMeta
  extramuralPlaces: Float
  extramuralMeta: PlacesMeta
  fullTimeForm: Boolean!
  mixedForm: Boolean!
  extramuralForm: Boolean!
  degree: ProgramDegree!
  studyPeriod: String!
  languages: String!
  description: String
  advantages: String
  partners: String
  projectsAndPractices: String
  leadProfessors: String
  graduates: String
  unit: String
  supervisor: String
}

enum ProgramDegree {
  bachelor
  certified
  master
}

type UserTagDto {
  uid: String!
  relationId: String!
  relationType: TagRelationType!
  user: UserDto!
}

enum TagRelationType {
  major
  specialty
  program
}

type ConnectedUserTagsDto {
  majors: [MajorDto!]!
  specialties: [SpecialtyDto!]!
  programs: [ProgramDto!]!
}

type EventTagDto {
  uid: String!
  event: EventDto!
  relationId: String!
  relationType: TagRelationType!
}

type SubjectDto {
  uid: String!
  title: String!
}

type ProgramSubjectDto {
  uid: String!
  program: ProgramDto!
  subject: SubjectDto!
}

type Query {
  users: [UserDto!]!
  user(uid: ID!): UserDto!
  code(uid: ID!): CodeDto!
  wallets: [WalletDto!]!
  myWallets: [WalletDto!]!
  wallet(uid: ID!): WalletDto!
  transactions: [TransactionDto!]!
  transaction(uid: ID!): TransactionDto!
  exerciseOrigins: [ExerciseOriginDto!]!
  exerciseOrigin(uid: ID!): ExerciseOriginDto!
  challengeExercises: [ChallengeExerciseDto!]!
  challengeExercise(uid: ID!): ChallengeExerciseDto!
  challengePasses: [ChallengePassDto!]!
  myChallengePasses: [ChallengePassDto!]!
  challengePass(uid: ID!): ChallengePassDto!
  challenges: [ChallengeWithExercisesDto!]!
  myChallenges: [ChallengeWithExercisesDto!]!
  challenge(uid: ID!): ChallengeWithExercisesDto!
  userExercises: [UserExerciseDto!]!
  userExercise(uid: ID!): UserExerciseDto!
  userTrainings: [UserTrainingDto!]!
  myUserTrainings: [UserTrainingDto!]!
  myUserTrainingsForChallenge(uid: ID!): [UserTrainingDto!]!
  userTraining(uid: ID!): UserTrainingDto!
  events: [EventDto!]!
  event(uid: ID!): EventDto!
  majors: [MajorDto!]!
  major(uid: ID!): MajorDto!
  specialties: [SpecialtyDto!]!
  specialty(uid: ID!): SpecialtyDto!
  specialtiesOfMajor(input: SpecialtiesOfMajorInput!): [SpecialtyDto!]!
  programs: [ProgramDto!]!
  program(uid: ID!): ProgramDto!
  programsOfSpecialty(input: ProgramsOfSpecialtyInput!): [ProgramDto!]!
  userTags: [UserTagDto!]!
  myUserTags: ConnectedUserTagsDto!
  userTag(uid: ID!): ProgramSubjectDto!
  eventTags: [EventTagDto!]!
  eventsForUserTags: [EventDto!]!
  programSubjects: [ProgramSubjectDto!]!
  subjects: [SubjectDto!]!
  subject(uid: ID!): SubjectDto!
}

input SpecialtiesOfMajorInput {
  majorId: String!
}

input ProgramsOfSpecialtyInput {
  specialtyId: String!
}

type Mutation {
  createUser(input: CreateUserInput!): UserDto!
  updateUser(input: UpdateUserInput!): UserDto!
  depositFunds(input: DepositFundsInput!): TransactionDto!
  withdrawFunds(input: WithdrawFundsInput!): TransactionDto!
  sendCode(input: CodeInput!): CodeDto!
  confirmCode(input: ConfirmCodeInput!): AccessDto!
  addCode(input: CodeInput!): CodeDto!
  login(input: LoginInput!): AccessDto!
  addWallet: WalletDto!
  addExerciseOrigin(input: ExerciseOriginInput!): ExerciseOriginDto!
  addChallengeExercise(input: ChallengeExerciseInput!): ChallengeExerciseDto!
  obtainChallengePass(input: ChallengePassInput!): ChallengePassDto!
  addChallenge(input: ChallengeInput!): ChallengeDto!
  createUserExercise(input: UserExerciseInput!): UserExerciseDto!
  createUserTraining(input: UserTrainingInput!): UserTrainingDto!
  finishUserTraining(uid: ID!): UserTrainingDto!
  addEvent(input: EventInput!): EventDto!
  addMajor(input: MajorInput!): MajorDto!
  addSpecialty(input: SpecialtyInput!): SpecialtyDto!
  addProgram(input: ProgramInput!): ProgramDto!
  createUserTag(input: UserTagInput!): UserTagDto!
  createEventTag(input: EventTagInput!): EventTagDto!
  addSubject(input: SubjectInput!): SubjectDto!
}

input CreateUserInput {
  phone: String!
  type: AccountType!
}

input UpdateUserInput {
  firstName: String!
  lastName: String!
  patronym: String!
  birthDate: DateTime!
  country: String!
  locality: String!
  email: String!
  pwd: String!
  school: String
  position: String
  child: String
  course: String
}

input DepositFundsInput {
  amount: Float!
}

input WithdrawFundsInput {
  amount: Float!
}

input CodeInput {
  phone: String!
  type: AccountType!
}

input ConfirmCodeInput {
  phone: String!
  code: String!
}

input LoginInput {
  phone: String!
  password: String!
}

input ExerciseOriginInput {
  name: String!
  key: ExerciseKey!
  videoUrl: String!
}

input ChallengeExerciseInput {
  exerciseOriginId: String!
  challengeId: String!
  type: ExerciseType!
  goal: Float!
  customVideoUrl: String
}

input ChallengePassInput {
  challengeId: String!
}

input ChallengeInput {
  title: String!
  description: String
  price: Float!
  config: JSON!
  startsAt: DateTime!
  endsAt: DateTime!
}

input UserExerciseInput {
  challengeExerciseId: String!
  trainingId: String!
}

input UserTrainingInput {
  challengeId: String!
}

input EventInput {
  title: String!
  description: String
  type: EventType!
  module: ModuleType!
  faculty: String
  link: String
  reward: Float
  limit: Float
  placesLeft: Float
  startsAt: DateTime!
  endsAt: DateTime!
}

input MajorInput {
  title: String!
  code: String!
  fullTimePlaces: Float
  fullTimeMeta: PlacesMeta
  mixedPlaces: Float
  mixedMeta: PlacesMeta
  extramuralPlaces: Float
  extramuralMeta: PlacesMeta
}

input SpecialtyInput {
  title: String!
  code: String!
  majorId: String!
  fullTimePlaces: Float!
  fullTimeMeta: PlacesMeta!
  mixedPlaces: Float!
  mixedMeta: PlacesMeta!
  extramuralPlaces: Float!
  extramuralMeta: PlacesMeta!
}

input ProgramInput {
  title: String!
  specialtyId: String!
  fullTimePlaces: Float
  fullTimeMeta: PlacesMeta
  mixedPlaces: Float
  mixedMeta: PlacesMeta
  extramuralPlaces: Float
  extramuralMeta: PlacesMeta
  fullTimeForm: Boolean!
  mixedForm: Boolean!
  extramuralForm: Boolean!
  degree: ProgramDegree!
  studyPeriod: String!
  languages: String!
  description: String
  advantages: String
  partners: String
  projectsAndPractices: String
  leadProfessors: String
  graduates: String
  unit: String
  supervisor: String
}

input UserTagInput {
  relationId: String!
  relationType: TagRelationType!
}

input EventTagInput {
  eventId: String!
  relationId: String!
  relationType: TagRelationType!
}

input SubjectInput {
  title: String!
}

type Subscription {
  balanceUpdated: WalletDto!
}
